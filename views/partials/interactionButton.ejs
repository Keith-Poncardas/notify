<!-- Engagement Stats (like Facebook) -->
<div class="d-flex justify-content-between align-items-center mb-2 px-1">
  <div class="d-flex align-items-center" data-mdb-tooltip-init data-mdb-html="true" title="
    <div style='text-align: left;'>
      <% if (post.isLikedByCurrentUser && post.isLikedByCurrentUser.length > 0) { %>
        <% post.likedByCurrentUser.slice(0, 6).forEach(function(name) { %>
          <div class='text-start text-wrap lh-sm'><%= name %></div>
        <% }) %>
      <% } else { %>
        <div>No likes yet</div>
      <% } %>
     
      <% if (post.likesCount > 6) { %>
        <div class='text-start text-wrap lh-sm'>and <%= post.likesCount - 6 %> more</div>
      <% } %>
    </div>
  ">

    <div class="d-flex me-2">
      <!-- <span class="badge bg-primary rounded-circle p-1 me-1" style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
        <i class="fas fa-thumbs-up" style="font-size: 10px;"></i>
      </span> -->
      <span class="badge bg-danger rounded-circle p-1 me-1" style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
        <i class="fas fa-heart" style="font-size: 10px;"></i>
      </span>
    </div>
    <!-- Engagement Stats -->
    <small class="text-muted like-count"><%= post.likesCount %></small>

  </div>
  <div class="d-flex gap-3">
    <small class="text-muted"><%= post.commentsCount || 0 %> comments</small>
    <small class="text-muted">0 shares</small>
  </div>
</div>

<hr class="my-2">

<!-- Post Actions (Facebook style) -->
<div class="d-flex justify-content-around">
  <button class="btn btn-link text-muted flex-fill py-2 d-flex align-items-center justify-content-center like-btn <%= post.isLikedByCurrentUser ? 'liked active' : '' %>" data-mdb-ripple-init <% if (!user) { %> disabled <% } %> data-post-id="<%= post._id %>">

    <!-- Red Heart or Thumbs-Up -->
    <% if (post.isLikedByCurrentUser) { %>
    <span class="like-icon badge bg-danger rounded-circle p-1 me-1" style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
      <i class="fas fa-heart" style="font-size: 10px;"></i>
    </span>
    <% } else { %>
    <i class="like-icon far fa-thumbs-up me-2"></i>
    <% } %>

    <!-- Like Label -->
    <span class="like-label <%= post.isLikedByCurrentUser ? 'text-danger' : '' %>">
      <%= post.isLikedByCurrentUser ? 'Liked' : 'Like' %>
    </span>
  </button>


  <button class="btn btn-link text-muted flex-fill py-2 d-flex align-items-center justify-content-center" data-mdb-ripple-init onclick="window.location = '/posts/<%= post._id %>/view'" <% if (!user || isDisabled) { %> disabled <% } %>>
    <i class="far fa-comment me-2"></i>
    <span>Comment</span>
  </button>

  <button class="btn btn-link text-muted flex-fill py-2 d-flex align-items-center justify-content-center disabled" data-mdb-ripple-init>
    <i class="fas fa-share-alt me-2"></i>
    <span>Share</span>
  </button>
</div>