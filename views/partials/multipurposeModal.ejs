<!-- Create Post Modal -->
<div class="modal fade" id="actionModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-body-tertiary">

      <!-- Header -->
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">Create post</h5>
        <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Body -->
      <div class="modal-body">

        <div class="d-flex justify-content-start mb-3 gap-3">
          <% if (user) { %>
          <%- include('./avatar', { dropdown: false, width: 35, height: 35 }) %>

          <div>
            <h6 class="mb-0"><%= user.firstname %> <%= user.lastname %></h6>
            <small class="text-muted badge bg-body-secondary"><i class="fas fa-globe-americas me-1"></i>Public</small>
          </div>
          <% } %>
        </div>

        <textarea class="form-control border-0 bg-body-tertiary" rows="4" placeholder="Tell Something..." id="modalContent" required></textarea>


        <input type="hidden" id="modalAction">
        <input type="hidden" id="modalItemId">
        <input type="hidden" id="modalItemUserId">

        <div class="my-4">
          <img id="imagePreview" class="img-fluid rounded-3 shadow d-none" style="width: 100%; height: 280px; object-fit: cover;" alt="Wild Landscape" />
        </div>

        <% if (!isHideImgUp) { %>
        <div class="d-flex justify-content-between align-items-center mt-3">
          <span class="text-muted">Add to your post</span>
          <div>
            <label for="postImage" class="fas fa-image text-success me-3" style="cursor: pointer;"></label>
            <input type="file" id="postImage" accept="image/*" style="display: none;">
            <!-- <i class="fas fa-trash text-danger me-3"></i> -->
            <!-- <i class="far fa-smile text-warning me-3"></i>
            <i class="fas fa-video text-danger me-3"></i>
            <i class="fas fa-ellipsis-h text-muted"></i> -->
          </div>
        </div>
        <% } %>

      </div>

      <!-- Footer -->
      <div class="modal-footer">
        <button class="btn btn-primary w-100" id="modalSubmitButton">Submit</button>
      </div>

    </div>
  </div>
</div>

<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (() => {
    'use strict';

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation');

    // Loop over them and prevent submission
    Array.prototype.slice.call(forms).forEach((form) => {
      form.addEventListener('submit', (event) => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>